diff --git a/third_party/blink/renderer/core/script/pending_import_map.cc b/third_party/blink/renderer/core/script/pending_import_map.cc
index 0d443f9b8f81ae2e25515d084208e1c3f56252e8..e263297b355ab4c5e6b11b1115530bd574036c91 100644
--- a/third_party/blink/renderer/core/script/pending_import_map.cc
+++ b/third_party/blink/renderer/core/script/pending_import_map.cc
@@ -11,6 +11,13 @@
 #include "third_party/blink/renderer/core/script/script_element_base.h"
 #include "third_party/blink/renderer/platform/weborigin/kurl.h"
 
+#include "brave/third_party/blink/brave_page_graph/buildflags/buildflags.h"
+#if BUILDFLAG(BRAVE_PAGE_GRAPH_ENABLED)
+#include "third_party/blink/renderer/core/frame/local_frame.h"
+#include "third_party/blink/renderer/core/dom/dom_node_ids.h"
+#include "brave/third_party/blink/brave_page_graph/page_graph.h"
+#endif
+
 namespace blink {
 
 PendingImportMap* PendingImportMap::CreateInline(ScriptElementBase& element,
@@ -20,7 +27,7 @@ PendingImportMap* PendingImportMap::CreateInline(ScriptElementBase& element,
   Document* context_document = element_document.ContextDocument();
   ScriptState* script_state =
       ToScriptStateForMainWorld(context_document->GetFrame());
-  Modulator* modulator = Modulator::From(script_state);
+  Modulator* modulator = Modulator::From(script_state, context_document->GetFrame()->GetDocument()->GetPageGraph(), element.GetDOMNodeId());
 
   ScriptValue error_to_rethrow;
   ImportMap* import_map =
@@ -84,7 +91,7 @@ void PendingImportMap::RegisterImportMap() const {
   if (!frame)
     return;
 
-  Modulator* modulator = Modulator::From(ToScriptStateForMainWorld(frame));
+  Modulator* modulator = Modulator::From(ToScriptStateForMainWorld(frame), context_document->GetFrame()->GetDocument()->GetPageGraph(), element_->GetDOMNodeId());
 
   ScriptState* script_state = modulator->GetScriptState();
   ScriptState::Scope scope(script_state);
